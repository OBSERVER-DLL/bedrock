{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% extends "firefox/base-resp.html" %}

{% block page_title_prefix %}{{ _('Firefox for iOS') }} — {% endblock %}
{% block page_title %}{{ _('') }}{% endblock %}
{% block page_desc %}{{ _('') }}{% endblock %}

{% block body_id %}firefox-ios-test-flight{% endblock %}
{% block body_class %}{% endblock %}

{% block page_css %}
  {% stylesheet 'firefox_ios_test_flight' %}
{% endblock %}

{% block site_header_nav %}{% endblock %}
{% block site_header_logo %}{% endblock %}

{% block content %}
<section class="section section-intro" id="intro">
  <div class="container">
    {# No more new logos! #}
    {{ high_res_img('firefox/desktop/tips/firefox-logo.png', {'alt': 'Firefox for iOS', 'width': '136', 'height': '142', 'id': 'header-logo' }) }}

    {# L10n: line break below for visual formatting only #}
    <h1>{{ _('Help shape the future <br>of Firefox for iOS') }}</h1>

    <h2>{{ _('Sign up to test pre-release versions to make Firefox even better.') }}</h2>

    <div id="test-flight-errors" class="hidden newsletter-form-extra">
      <ul class="errorlist"></ul>
    </div>

    <div id="test-flight-signup-wrapper">
      <form id="test-flight-form" class="newsletter-form footer-newsletter-form" action="{{ url('newsletter.subscribe') }}" method="post">
        {{ newsletter_form.newsletters|safe }}
        {# test flight program is only available in english #}
        <input type="hidden" name="lang" value="en">
        <input type="hidden" name="source_url" value="{{ request.build_absolute_uri() }}">

        <div id="form-fields" class="snazzy-fieldset fields-with-labels">
          <div class="field field-first-name">
            <label for="id_first_name">{{ _('First name') }}</label>
            {{ newsletter_form.first_name|safe }}
          </div>
          <div class="field field-last-name">
            <label for="id_last_name">{{ _('Last name') }}</label>
            {{ newsletter_form.last_name|safe }}
          </div>
          <div class="field field-email">
            <label for="id_email">{{ _('Email') }}</label>
            {{ newsletter_form.email|safe }}
          </div>
          <div class="field field-country">
            <label for="id_country">{{ _('Country') }}</label>
            {{ newsletter_form.country|safe }}
          </div>
        </div>

        <div id="form-submit-terms">
          <button class="button-flat-dark" id="test-flight-submit" type="submit">Submit</button>
          <div id="email-format-wrapper">
            {{ newsletter_form.fmt|safe }}
          </div>
          <label class="terms-check-label" for="id_terms">
            <input id="id_terms" name="terms" required="required" type="checkbox">
            <span class="title">
            {% trans url='#terms-conditions' %}
              I have read and agree to these
              <a href="{{ url }}">Terms and Conditions</a>
            {% endtrans %}
            </span>
          </label>
          {{ newsletter_form.privacy|safe }}
        </div>
        <div id="test-flight-spinner" class="hidden"></div>
      </form>
    </div>{#-- .test-flight-signup-wrapper --#}

    <div id="test-flight-form-thankyou" class="thank newsletter-form newsletter-form-extra">
      <h2>{{ _('Congrats!') }}</h2>

      <h3>{{ _('You have been added to the Firefox for iOS testing program.') }}</h3>

      <p>
      {% trans %}
        When test spots are available, you will receive an invitation from
        TestFlight, Apple's App Store program that manages pre-release
        software, to participate in the program.
      {% endtrans %}

        <strong>{{ _('Please accept it.') }}</strong>
      </p>

      <p>
        {{ _('Be aware that this email may be in your spam folder.') }}
      </p>
    </div>
  </div>{#-- /.container --#}
</section>{#-- /#header --#}

<section class="section section-terms-conditions" id="terms-conditions">
  <div class="container">
    <h4>{{ _('Terms and Conditions') }}</h4>

    <ol>
      <li>{{ _('We are conducting this pre-release program in English.') }}</li>
      <li>
      {% trans %}
        Apple’s TestFlight Terms and Conditions apply to your participation in
        this pre-release program and use of Apple’s software.
      {% endtrans %}

      {% trans url='http://www.apple.com/legal/internet-services/itunes/testflight/sren/terms.html' %}
        You may review those terms here:
        <a href="{{ url }}">{{ url }}</a>
      {% endtrans %}
      </li>
      <li>
        {{ _('This pre-release program is only available to individuals aged 13 years or older.') }}
        {{ _('If you are 13 or older but under the age of 18, you should review these program terms with your parent or guardian to make sure that you and your parent or guardian understand and agree to these terms.') }}
      </li>
      <li>
      {% trans url=url('privacy') %}
        Mozilla's use of your data in relation to this pre-release program will
        be done in accordance with the
        <a href="{{ url }}">Mozilla Privacy Notice</a>.
      {% endtrans %}
      </li>
      <li>
        {{ _('Any information that you provide to us and our third party survey and test providers (i.e., Apple) is subject to their privacy policies and we encourage you to read their privacy policies in order to become familiar with their practices.') }}
      </li>
    </ol>
  </div>{#-- /.container --#}
</section>{#-- /#terms --#}
{% endblock %}

{% block email_form %}{% endblock %}

{% block js %}
  {% javascript 'firefox_ios_test_flight' %}
{% endblock %}
